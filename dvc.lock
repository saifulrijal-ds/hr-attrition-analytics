schema: '2.0'
stages:
  generate_data:
    cmd: python src/stages/data_generation.py
    deps:
    - path: src/data/data_generator.py
      hash: md5
      md5: 9a8672a58820cbaa3a5cbab8162048d0
      size: 69080
    - path: src/stages/data_generation.py
      hash: md5
      md5: a6498f1dd34706e8ba2c443b70ef124f
      size: 2266
    params:
      params.yaml:
        attrition_scenarios:
          normal:
            rate: 0.5
            description: Normal market conditions
            is_active: false
          low_stress:
            rate: 0.35
            description: Low competition, high retention period
            is_active: false
          high_stress:
            rate: 0.65
            description: High competition or restructuring period
            is_active: true
        company:
          name: BFI Finance Indonesia
          num_employees: 4000
          historical_years: 5
          random_seed: 42
    outs:
    - path: data/stages/raw/employees.csv
      hash: md5
      md5: 45ce1d579637d95dfcc4caa7cc51fa7a
      size: 1123092
    - path: data/stages/raw/exit_interviews.csv
      hash: md5
      md5: 30afba1e908a631b3cb87b12e75b3b98
      size: 240033
    - path: data/stages/raw/metadata.yaml
      hash: md5
      md5: 0366e346fa4a95e5e94336b1e3c6ef5d
      size: 252
    - path: data/stages/raw/performance.csv
      hash: md5
      md5: ae6fa03d66d9c667283299b1f7d0f7ef
      size: 3016679
    - path: data/stages/raw/promotions.csv
      hash: md5
      md5: bddaf1c7e2f0e4601c20a7342e8200dd
      size: 665466
    - path: data/stages/raw/recruitment_costs.csv
      hash: md5
      md5: 8ed945455d823b8475b9c3f18c9ecfbf
      size: 990
    - path: data/stages/raw/surveys.csv
      hash: md5
      md5: 782015fc24935639a3c0a038219240e8
      size: 6866470
    - path: data/stages/raw/training.csv
      hash: md5
      md5: ce1375b9b4bf13d09830519ec022bab1
      size: 3803223
  preprocess:
    cmd: python src/stages/data_preprocessing.py
    deps:
    - path: data/stages/raw/employees.csv
      hash: md5
      md5: 45ce1d579637d95dfcc4caa7cc51fa7a
      size: 1123092
    - path: src/stages/data_preprocessing.py
      hash: md5
      md5: f866dcc0b0087d197e896f4bdb25c64e
      size: 4738
    params:
      params.yaml:
        split:
          method: hire_date
          train_end_date: '2023-12-31'
          test_start_date: '2024-01-01'
    outs:
    - path: data/stages/preprocessed/split_metadata.yaml
      hash: md5
      md5: 984a8608fc77a14cc2f3f3a77512429b
      size: 203
    - path: data/stages/preprocessed/test_data.csv
      hash: md5
      md5: 02703c37ea1069511f80bd52bc2036b1
      size: 268075
    - path: data/stages/preprocessed/train_data.csv
      hash: md5
      md5: 840f76713520ed6d2cccae2601c8e631
      size: 844794
